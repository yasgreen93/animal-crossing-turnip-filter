class TurnipFilter{constructor(e=500){this.tiles=Array.from(document.querySelectorAll("p.ml-2")),this.minimumBells=e,this.logMeta={baseStyles:"font-size: 16px; font-weight: bold;",prefix:"%c"},this.regex=/([0-9]+)\s(Bells)/g,this.initialise()}initialise(){this._info(`Turnip Filter ready! Minimum bells set to ${this.minimumBells}.`),this._info(`\n----- Available functions: -----\n• highlight -> Changes the style of the tiles of the islands buying turnips for ${this.minimumBells} or above.\n• hideLower -> Hides the tiles of the islands buying turnips for below ${this.minimumBells} from the page.\n--------------------------------\n    `)}highlight(){const e=this._filterForHigher();e&&e.length?e.forEach(e=>{const t=e.parentElement.parentElement.parentElement;if(t){const i=this._getQueueInfo(t),n=this._getIslandName(t);t.setAttribute("style","background-color: #011B8E;"),this._info(`Island: ${n} | Buying for: ${e.innerText} | Queue information: ${i}.`)}e.setAttribute("style","background-color: yellow; color: black;")}):this._error(`No islands found buying for ${this.minimumBells} and above.`)}hideLower(){const e=this._filterForLower();e&&e.length?(e.forEach(e=>{const t=e.parentElement.parentElement.parentElement;t&&t.setAttribute("style","display: none;")}),this._info(`Hidden islands lower than ${this.minimumBells}.`)):this._error(`No islands found buying for below ${this.minimumBells}.`)}_filterForHigher(){if(this.tiles&&this.tiles.length)return this.tiles.filter(e=>{if(!e.innerText)return!1;const t=e.innerText.match(this.regex);return!(!t||!t.length)&&parseInt(t[0].split(" ")[0])>=this.minimumBells})}_filterForLower(){if(this.tiles&&this.tiles.length)return this.tiles.filter(e=>{if(!e.innerText)return!1;const t=e.innerText.match(this.regex);return!(!t||!t.length)&&parseInt(t[0].split(" ")[0])<this.minimumBells})}_getIslandName(e){const t=e.querySelectorAll("p.font-poster")[0];return t?t.innerText:"-"}_getQueueInfo(e){return e.querySelectorAll("p.text-xs.col-start-2.justify-self-end.italic.mr-1")[0].innerText.split(" ")[1]||"-"}_info(...e){const t=`color: #032FA0; ${this.logMeta.baseStyles}`;console.info(`${this.logMeta.prefix}${e}`,t)}_error(...e){const t=`color: #960E22; ${this.logMeta.baseStyles}`;console.info(`${this.logMeta.prefix}${e}`,t)}}
